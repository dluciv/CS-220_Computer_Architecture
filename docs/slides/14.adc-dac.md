<!-- -*- coding: utf-8 -*- -->
<span id="slides-title" hidden>АЦП и ЦАП</span>


ЦАП
===

* **Цифрово-аналоговый преобразователь** (**digital-analog converter**) — схема, генерирующая по входному цифровому выходной аналоговый сигнал, номинал которого по какому-либо параметру соответствует значению на цифровом входе

- - - - - -

## ЦАП «Резисторная матрица»

Он же — [R-2R](http://en.wikipedia.org/wiki/Resistor_ladder)

Достоинства:

- Работает почти мгновенно
- Устроен просто
- Для $N$ уровней сложность схемы пропорциональна $\log_2 N$

@pause@

Недостатки:

- Из-за необходимости в точных резисторах стоил дорого
- Неравномерная нагрузка на резисторы и входные каналы
- Мощные точные резисторы --- практически оксюморон (из-за этого в итоге дороговизна)

@pause@

Использовался, как [дешёвый синтезатор звука](http://ru.wikipedia.org/wiki/Covox). Игры Wolfenstein 3D и Space Quest. Платформы Spectrum, БК и PC (через LPT — контакты порта непосредственно на резисторы).

- - - - - -

## Широтно-импульсный модулятор

<div style="float: left; width: 60%;">

- Работает небыстро (пропорционально количеству значений)
- Масштабируем (меняется только разрядность счётчика)
- Схема сглаживания может вызывать «нелинейность», её легче всего компенсировать цифровой калибровкой.
</div>

<div style="float: right; width: 40%;">

![image](images/14.wim.g.svg) <!--.element: style="width: 60%;" -->
</div>

= = = = = =

## Не электрические ЦАП

- - - - - -

## Пространственные манипуляторы

* Высокой точности
  * [Шаговый двигатель](http://ru.wikipedia.org/wiki/%D0%A8%D0%B0%D0%B3%D0%BE%D0%B2%D1%8B%D0%B9_%D0%B4%D0%B2%D0%B8%D0%B3%D0%B0%D1%82%D0%B5%D0%BB%D1%8C)
* Больших скорости и диапазона
  * Лифт
  * Подъёмный кран и даже строительный вертолёт

@pause@

На самом деле лифт, подъёмный кран и вертолёт не «слепые»

* Гибридные
  * приблизительное позиционирование низкой точности, фиксация,
  * затем точная подстройка, требующая обратной связи при помощи **АЦП**

= = = = = =

АЦП
===

**Аналогово-цифровой преобразователь** (**analog-digital converter**) — схема, вычисляющая и выдающая на выходе в цифровом виде номинал одной из величин аналогового сигнала

- - - - - -

## Компаратор

— вот что нам понадобится

<div style="text-align: center;">

![image](images/14.comparaor.svg) <!--.element: style="width: 60%;" -->
</div>


- - - - - -

## Прямой АЦП

<div style="text-align: center;">

![image](images/14.directadc.svg) <!--.element: style="width: 60%;" -->
</div>

- Работает быстро
- Сложность схемы пропорциональна количеству позиций

- - - - - -

## Компенсационный АЦП

<div style="text-align: center;">

![image](images/14.compenseadc.g.svg) <!--.element: style="width: 60%;" -->
</div>

Обычно подбирает значение бинарным поиском. Сложность логарифмическая.

- - - - - -

## Широтно-импульсный демодулятор

Можно измерять время разрядки конденсатора через резистор. Когда
конденсатор разрядится ниже определённой разности потенциалов, должен
остановиться счётчик.

= = = = = =

# Не электрические АЦП

- - - - - -

## Энкодеры координат

### [Код Грея](http://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%B4_%D0%B3%D1%80%D0%B5%D1%8F) используются в механических и оптико-механических датчиках

Представляет собой обычные двоичные числа упорядоченные таким образом, что при переходе к следующему значению меняется только 1 бит. Код Грея устраняет неоднозначность при дребезге АЦП.

Используется при пространственной маркировке с опасностью «промаха», например, для нумерации дорожек жёсткого диска.

@pause@

### [Последовательность Де-Брейна](http://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C_%D0%B4%D0%B5_%D0%91%D1%80%D0%B5%D0%B9%D0%BD%D0%B0)

Это последовательность битов $N$, любой отрезок которой длиной не менее $M$ битов уникален.

Используется при последовательной пространственной маркировке, например в [оптических линейных энкодерах](https://www.renishaw.ru/ru/magnetic-encoders--6437).

- - - - - -

## Датчик угловой и линейной скоростей

Используется, например, в механических и старых (требующих специального коврика) оптических [«мышах»](http://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%8F_%D0%BC%D1%8B%D1%88%D1%8C)

- - - - - -

## Интерферометрические: нониус и «друзья»

-  [Нониус](http://ru.wikipedia.org/wiki/%D0%9D%D0%BE%D0%BD%D0%B8%D1%83%D1%81)


= = = = = =

### Вопросы

* Что такое ЦАП? Назовите виды ЦАП
* Что такое АЦП? Назовите виды АЦП
* Что такое и где используется код Грея?
* Что такое и где используется последовательность Де-Брейна?

### Упражнения

* Найдите в сети и опишите принцип действия цифрового штангенциркуля
